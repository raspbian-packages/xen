From 9ecabc72e2e4bb485c62d1ed334a787a2700602a Mon Sep 17 00:00:00 2001
From: Felix Geyer <felix.geyer@credativ.de>
Date: Wed, 16 May 2018 08:26:26 +0200
Subject: [PATCH 53/53] Fix build failure on i386.

Follow up fix for b97ba027efae950da5a14bec5bc592e438d0633d
---
 xen/arch/x86/traps.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/xen/arch/x86/traps.c b/xen/arch/x86/traps.c
index f608c6ec4..45d27aaed 100644
--- a/xen/arch/x86/traps.c
+++ b/xen/arch/x86/traps.c
@@ -3438,8 +3438,8 @@ void do_debug(struct cpu_user_regs *regs)
          */
         gprintk(XENLOG_WARNING,
                 "Hit #DB in Xen context: %04x:%p [%ps], stk %04x:%p, dr6 %lx\n",
-                regs->cs, _p(regs->rip), _p(regs->rip),
-                regs->ss, _p(regs->rsp), dr6);
+                regs->cs, _p(regs->eip), _p(regs->eip),
+                regs->ss, _p(regs->esp), dr6);
 
         goto out;
     }
-- 
2.17.0

