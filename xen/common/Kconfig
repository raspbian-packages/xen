
menu "Common Features"

config COMPAT
	bool
	help
	  32-bit interface support on 64-bit Xen which is used for both
	  HVM and PV guests. HVMLoader makes 32-bit hypercalls irrespective
	  of the destination runmode of the guest.

config FLASK
	bool "FLux Advanced Security Kernel support"
	default y
	depends on XSM
	---help---
	  Enables the FLASK (FLux Advanced Security Kernel) support which
	  provides a mandatory access control framework by which security
	  enforcement, isolation, and auditing can be achieved with fine
	  granular control via a security policy.

	  If unsure, say N.

# Select HAS_DEVICE_TREE if device tree is supported
config HAS_DEVICE_TREE
	bool

# Select HAS_MEM_ACCESS if mem access is supported
config HAS_MEM_ACCESS
	bool

# Select HAS_MEM_PAGING if mem paging is supported
config HAS_MEM_PAGING
	bool

# Select HAS_MEM_SHARING if mem sharing is supported
config HAS_MEM_SHARING
	bool

# Select HAS_PDX if PDX is supported
config HAS_PDX
	bool

# Select HAS_KEXEC if kexec is supported
config HAS_KEXEC
	bool

# Select HAS_GDBSX if GDBSX is supported
config HAS_GDBSX
	bool

config HAS_IOPORTS
	bool

# Enable/Disable kexec support
config KEXEC
	bool "kexec support"
	default y
	depends on HAS_KEXEC
	---help---
	  Allows a running Xen hypervisor to be replaced with another OS
	  without rebooting. This is primarily used to execute a crash
	  environment to collect information on a Xen hypervisor or dom0 crash.

	  If unsure, say Y.

# Allows "late" initialization of the hardware domain
config LATE_HWDOM
	bool "dedicated hardware domain"
	default n
	depends on XSM && X86
	---help---
	  Allows the creation of a dedicated hardware domain distinct from
	  domain 0 that manages devices without needing access to other
	  privileged functionality such as the ability to manage domains.
	  This requires that the actual domain 0 be a stub domain that
	  constructs the actual hardware domain instead of initializing the
	  hardware itself.  Because the hardware domain needs access to
	  hypercalls not available to unprivileged guests, an XSM policy
	  is required to properly define the privilege of these domains.

	  This feature does nothing if the "hardware_dom" boot parameter is
	  not present.  If this feature is being used for security, it should
	  be combined with an IOMMU in strict mode.

	  If unsure, say N.

# Enable/Disable XSM support
config XSM
	bool "Xen Security Modules support"
	default n
	---help---
	  Enables the security framework known as Xen Security Modules which
	  allows administrators fine-grained control over a Xen domain and
	  its capabilities by defining permissible interactions between domains,
	  the hypervisor itself, and related resources such as memory and
	  devices.

	  If unsure, say N.

endmenu
